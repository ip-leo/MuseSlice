{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///Users/leoip/Library/Mobile%20Documents/com~apple~CloudDocs/Downloads/Intern/Personal_Projects/MuseSlice/src/contexts/ThemeContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'light' | 'dark';\n\ninterface ThemeContextType {\n  theme: Theme;\n  toggleTheme: () => void;\n  setTheme: (theme: Theme) => void;\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\nexport const ThemeProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [theme, setThemeState] = useState<Theme>('light');\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as Theme;\n    const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    const initialTheme = savedTheme || systemTheme;\n    \n    setThemeState(initialTheme);\n    setMounted(true);\n  }, []);\n\n  useEffect(() => {\n    if (mounted) {\n      document.documentElement.classList.remove('light', 'dark');\n      document.documentElement.classList.add(theme);\n      localStorage.setItem('theme', theme);\n    }\n  }, [theme, mounted]);\n\n  const toggleTheme = () => {\n    setThemeState(prev => prev === 'light' ? 'dark' : 'light');\n  };\n\n  const setTheme = (newTheme: Theme) => {\n    setThemeState(newTheme);\n  };\n\n  if (!mounted) {\n    return <>{children}</>;\n  }\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme, setTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}; "],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAYA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAE1D,MAAM,WAAW;IACtB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,MAAM,gBAAyD,CAAC,EAAE,QAAQ,EAAE;IACjF,MAAM,CAAC,OAAO,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO,GAAG,SAAS;QACzF,MAAM,eAAe,cAAc;QAEnC,cAAc;QACd,WAAW;IACb,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS;YACX,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS;YACnD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,aAAa,OAAO,CAAC,SAAS;QAChC;IACF,GAAG;QAAC;QAAO;KAAQ;IAEnB,MAAM,cAAc;QAClB,cAAc,CAAA,OAAQ,SAAS,UAAU,SAAS;IACpD;IAEA,MAAM,WAAW,CAAC;QAChB,cAAc;IAChB;IAEA,IAAI,CAAC,SAAS;QACZ,qBAAO;sBAAG;;IACZ;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;YAAa;QAAS;kBAC1D;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/leoip/Library/Mobile%20Documents/com~apple~CloudDocs/Downloads/Intern/Personal_Projects/MuseSlice/src/contexts/AuthContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useEffect, useState, useMemo, useCallback } from 'react';\nimport { useSession, signIn, signOut } from 'next-auth/react';\n\ninterface User {\n  id: string;\n  email: string;\n  name?: string;\n  image?: string;\n  createdAt?: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  isLoading: boolean;\n  isAuthenticated: boolean;\n  login: (email: string, password: string) => Promise<void>;\n  logout: () => Promise<void>;\n  register: (name: string, email: string, password: string) => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\nexport const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const { data: session, status } = useSession();\n  const [isLoading, setIsLoading] = useState(true);\n\n  const user: User | null = useMemo(() => {\n    if (!session?.user) return null;\n    return {\n      id: session.user.id || '',\n      email: session.user.email || '',\n      name: session.user.name || undefined,\n      image: session.user.image || undefined,\n      createdAt: (session.user as any).createdAt || undefined,\n    };\n  }, [session?.user]);\n\n  const login = useCallback(async (email: string, password: string) => {\n    const result = await signIn('credentials', {\n      email,\n      password,\n      redirect: false,\n    });\n\n    if (result?.error) {\n      throw new Error(result.error);\n    }\n  }, []);\n\n  const logout = useCallback(async () => {\n    await signOut({ redirect: false });\n  }, []);\n\n  const register = useCallback(async (name: string, email: string, password: string) => {\n    const response = await fetch('/api/auth/register', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ name, email, password }),\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      throw new Error(error.message || 'Registration failed');\n    }\n\n    await login(email, password);\n  }, [login]);\n\n  useEffect(() => {\n    setIsLoading(status === 'loading');\n  }, [status]);\n\n  const value: AuthContextType = useMemo(() => ({\n    user,\n    isLoading,\n    isAuthenticated: !!user,\n    login,\n    logout,\n    register,\n  }), [user, isLoading, login, logout, register]);\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n}; \n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAsBA,MAAM,4BAAc,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,MAAM,UAAU;IACrB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,MAAM,eAAwD,CAAC,EAAE,QAAQ,EAAE;IAChF,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,OAAoB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAChC,IAAI,CAAC,SAAS,MAAM,OAAO;QAC3B,OAAO;YACL,IAAI,QAAQ,IAAI,CAAC,EAAE,IAAI;YACvB,OAAO,QAAQ,IAAI,CAAC,KAAK,IAAI;YAC7B,MAAM,QAAQ,IAAI,CAAC,IAAI,IAAI;YAC3B,OAAO,QAAQ,IAAI,CAAC,KAAK,IAAI;YAC7B,WAAW,AAAC,QAAQ,IAAI,CAAS,SAAS,IAAI;QAChD;IACF,GAAG;QAAC,SAAS;KAAK;IAElB,MAAM,QAAQ,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,OAAO,OAAe;QAC9C,MAAM,SAAS,MAAM,CAAA,GAAA,8IAAA,CAAA,SAAM,AAAD,EAAE,eAAe;YACzC;YACA;YACA,UAAU;QACZ;QAEA,IAAI,QAAQ,OAAO;YACjB,MAAM,IAAI,MAAM,OAAO,KAAK;QAC9B;IACF,GAAG,EAAE;IAEL,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACzB,MAAM,CAAA,GAAA,8IAAA,CAAA,UAAO,AAAD,EAAE;YAAE,UAAU;QAAM;IAClC,GAAG,EAAE;IAEL,MAAM,WAAW,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE,OAAO,MAAc,OAAe;QAC/D,MAAM,WAAW,MAAM,MAAM,sBAAsB;YACjD,QAAQ;YACR,SAAS;gBACP,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAM;gBAAO;YAAS;QAC/C;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;YACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;QACnC;QAEA,MAAM,MAAM,OAAO;IACrB,GAAG;QAAC;KAAM;IAEV,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,aAAa,WAAW;IAC1B,GAAG;QAAC;KAAO;IAEX,MAAM,QAAyB,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE,IAAM,CAAC;YAC5C;YACA;YACA,iBAAiB,CAAC,CAAC;YACnB;YACA;YACA;QACF,CAAC,GAAG;QAAC;QAAM;QAAW;QAAO;QAAQ;KAAS;IAE9C,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;kBAC1B;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 179, "column": 0}, "map": {"version":3,"sources":["file:///Users/leoip/Library/Mobile%20Documents/com~apple~CloudDocs/Downloads/Intern/Personal_Projects/MuseSlice/src/components/Providers.tsx"],"sourcesContent":["'use client';\n\nimport { SessionProvider } from \"next-auth/react\";\nimport { ThemeProvider } from \"../contexts/ThemeContext\";\nimport { AuthProvider } from \"../contexts/AuthContext\";\n\nexport default function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <SessionProvider>\n      <ThemeProvider>\n        <AuthProvider>\n          {children}\n        </AuthProvider>\n      </ThemeProvider>\n    </SessionProvider>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,UAAU,EAAE,QAAQ,EAAiC;IAC3E,qBACE,8OAAC,8IAAA,CAAA,kBAAe;kBACd,cAAA,8OAAC,gIAAA,CAAA,gBAAa;sBACZ,cAAA,8OAAC,+HAAA,CAAA,eAAY;0BACV;;;;;;;;;;;;;;;;AAKX","debugId":null}}]
}